\documentclass[14pt]{extarticle}

\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage[russian]{babel}

\usepackage{graphicx}

\usepackage{amsmath, amsthm, amsfonts, amssymb}
\usepackage[unicode, hidelinks]{hyperref}

\usepackage[
    a4paper, mag=1000,
    left=2.5cm, right=1.5cm, top=2cm, bottom=2cm, bindingoffset=0cm,
    headheight=0cm, footskip=1cm, headsep=0cm
]{geometry}

\usepackage{tempora}

\usepackage{chngcntr} % equation counter manipulations

% reset equation counter at each section
\counterwithin*{equation}{section}
\counterwithin*{equation}{section}

\graphicspath{{images/}}

\usepackage{cases}

\begin{document}

\tableofcontents

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Основные понятия БД. Архитектура СБД}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{База дынных (БД)}

\textbf{Определение:}
\smallskip

База данных (БД)~--- набор постоянных данных, которые используются прикладными
системами для какого"=либо предприятия.

\subsection{Система БД (СБД)}

\textbf{Определение:}
\smallskip

Система баз данных (СБД)~--- это, по сути, не что иное, как компьютеризированная
система хранения записей. Саму же базу данных можно рассматривать как подобие
электронной картотеки, то есть хранилище для некоторого набора занесённых в
компьютер файлов данных (где файл~--- абстрактный набор данных).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Основные составляющие СБД}

\begin{enumerate}
    \item данные;
    \item аппаратное обоспечение;
    \item программеное обеспечение;
    \item пользователи.
\end{enumerate}

или

\begin{enumerate}
    \item СУБД;
    \item приклодное программное обеспечение базы данных и операционной системы;
    \item технические средства, обеспечивающие обслуживание пользователей.
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Реляционные БД}

\textbf{Определение редяционной БД:}
\smallskip

Реляционной базой данных называется набор отношений.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Дореляционные и постреляционные БД}

\textbf{Файлы и файловые системы:}
\smallskip

Первые БД были созданы на основе файловых систем. Для
каждой прикладной программы предоставлялся свой набор данных,
оформленный в виде файла со своей структурой. 
\smallskip

Такие системы имели ряд недостатков:
\begin{enumerate}
    \item {ФС не знает конкретной ситруктуры файла. Поэтому при малейших изменениях
    в структуре файлов приходилось менять программы, работающие с ними;}
    \item {В файловой системе для каждого файла имеется информация о пользователе~---
    владельце файла и определённые доступные для других пользователей. Из-за
    этого было очень трудно выстраивать ФС, так как часто файл созданные одной
    программой не доступен для другой;}
    \item {Файл в файловой системе был недоступен для нескольких пользователей
    одновременно. Его можно было модифицировать одновременно только 1 человеку, что
    делало совместную работу невозможной.}
\end{enumerate}

\textbf{Иерархические БД:}
\begin{center}
    \includegraphics[width=170mm]{1_2.png}

    \includegraphics[width=170mm]{1_3.png}
\end{center}

\textbf{Сетевые БД:}
\begin{center}
    \includegraphics[width=170mm]{1_4.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Три уровня архитектуры (внутренний, внешний, концептуальный)}

\begin{center}
    \includegraphics[width=170mm]{1_1.png}
\end{center}

\textbf{Определение:}
\smallskip

Внутренний уровень~--- уровень наиболее близкий к физическому хранению
данных, т.е. связанный с со способами сохранения информации на физических
устройствах хранения. Внутренний уровень~--- собственно данные,
расположенные в файлах или в страничных структурах, расположенных на
внешних носителях информации.
\bigskip

\textbf{Определение:}
\smallskip

Концептуальный уровень~--- уровень, на котором база данных представлена в
наиболее общем виде, который объединяет данные, используемые всеми
приложениями, работающими с данной базой данных. Фактически
концептуальный уровень отражает обобщенную модель предметной области
(объектов реального мира), для которой создавалась база данных. Как любая
модель, концептуальная модель отражает только существенные, с точки
зрения обработки, особенности объектов реального мира.
\bigskip

\textbf{Определение:}
\smallskip

Внешний уровень~--- самый верхний уровень, где каждое представление имеет
свое "видение" данных. Этот уровень определяет точку зрения на БД
отдельных приложений. Каждое приложение видит и обрабатывает только те
данные, которые необходимы именно этому приложению. Например, система
распределения работ использует сведения о квалификации сотрудника, но ее
не интересуют сведения об окладе, домашнем адресе и телефоне сотрудника,
и наоборот, именно эти сведения используются в подсистеме отдела кадров.

\textbf{Размышления:}
\smallskip

\begin{center}
    \includegraphics[width=170mm]{1_5.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Реляционная модель БД}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Таблица, столбец, строка, поле}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Домены, отношения, атрибуты, кортежи}

\textbf{Определение домена:}
\smallskip

Домен~--- допустимое потенциальное множество значений для отдельно взятого типа.
\bigskip

\textbf{Дополнительная информация:}
\begin{center}
    \includegraphics[width=170mm]{2_1.png}

    \includegraphics[width=170mm]{2_2.png}

    \includegraphics[width=170mm]{2_3.png}
\end{center}

\textbf{Определение отношения, атрибута и кортежа:}
\smallskip

\begin{center}
    \includegraphics[width=170mm]{2_3.png}

    \includegraphics[width=170mm]{2_4.png}

    \includegraphics[width=170mm]{2_5.png}

    \includegraphics[width=170mm]{2_6.png}
\end{center}

По Батраевой:
\begin{center}
    \includegraphics[width=170mm]{2_7.png}

    \includegraphics[width=170mm]{2_8.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Степень, каринальное число отношения}

\textbf{Определение степени отношения:}
\smallskip

Число атрибутов в отношении называют степенью отношения.
\bigskip

\textbf{Кардинальное число отношения:}
\smallskip

Количество кортежей в отношении называется мощностью или кардинальным числом
отношения.
\bigskip

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Свойства отношений}

\begin{enumerate}
    \item {В отношении нет одинаковых кортежей. Тело отношения есть 
    множество кортежей и, как всякое множество, не может содержать 
    неразличимые элементы. Таблицы в отличие от отношений могут 
    содержать одинаковые строки;}
    \item {Кортежи не упорядочены (сверху вниз). Действительно, 
    несмотря на то, что мы изобразили отношение "Сотрудники" в виде 
    таблицы, нельзя сказать, что сотрудник Иванов "предшествует" 
    сотруднику Петрову. Одно и то же отношение может быть изображено 
    разными таблицами, в которых строки идут в различном порядке;}
    \item {Атрибуты не упорядочены (слева направо). Т.к. каждый атрибут 
    имеет уникальное имя в пределах отношения, то порядок атрибутов не 
    имеет значения. Одно и то же отношение может быть изображено 
    разными таблицами, в которых столбцы идут в различном порядке;}
    \item {Все значения атрибутов атомарны. Это четвертое отличие 
    отношений от таблиц~--- в ячейки таблиц можно поместить что угодно~---
    массивы, структуры, и даже другие таблицы.}
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Виды отношений}

Существует два вида отношений: дочернее и родительское.
\bigskip

\textbf{Определение дочернего отношения:}
\smallskip

Отношение, входящее в связь со стороны \"много\" (\"Поставки\"),
называется дочерним отношением.
\bigskip

\textbf{Определение родительского отношения:}
\smallskip

Отношение, входящее в связь со стороны \"один\" (\"Поставщики\"), называют
родительским отношением.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Целостность данных}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Ограничения (правила) целостности}

\textbf{Правило целостности сущностей (NULL значения в потенциальных ключах):}
\smallskip

Атрибуты, входящие в состав некоторого потенциального ключа не могут
принимать null"=значений.
\bigskip

\textbf{Правило целостности внешних ключей:}
\smallskip

Так как внешние ключи фактически служат ссылками на кортежи в другом (или в том же
самом) отношении, то эти ссылки не должны указывать на несуществующие объекты.
\smallskip

Формально:
\smallskip

Внешние ключи не должны быть несогласованными, то есть для каждого значения
внешнего ключа должно существовать значение первичного ключа в родительском
отношении.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Потенциальные ключи, первичный ключ}

\textbf{Определение потенциального (и чуть-чуть первичного) ключа:}
\smallskip

\begin{center}
    \includegraphics[width=170mm]{3_4.png}

    \includegraphics[width=170mm]{3_5.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Внешние ключи}

\begin{center}
    \includegraphics[width=170mm]{3_7.png}
\end{center}

\textbf{Определение внешнего ключа:}
\smallskip

\begin{center}
    \includegraphics[width=170mm]{3_6.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Ссылочная целостность}

\textbf{Операции ведущие к нарущению ссылочной целостности при изменении
родительского отношения:}

\begin{enumerate}
    \item {Вставка кортежа в родительском отношении. При вставке 
    кортежа в родительское отношение возникает новое значение 
    потенциального ключа. Т.к. допустимо существование кортежей в 
    родительском отношении, на которые нет ссылок из дочернего 
    отношения, то вставка кортежей в родительское отношение не 
    нарушает ссылочной целостности;}
    \item {Обновление кортежа в родительском отношении. При 
    обновлении кортежа в родительском отношении может измениться 
    значение потенциального ключа. Если есть кортежи в дочернем 
    отношении, ссылающиеся на обновляемый кортеж, то значения их 
    внешних ключей станут некорректными. Обновление кортежа в 
    родительском отношении может привести к нарушению ссылочной 
    целостности, если это обновление затрагивает значение 
    потенциального ключа;}
    \item {Удаление кортежа в родительском отношении. При удалении 
    кортежа в родительском отношении удаляется значение 
    потенциального ключа. Если есть кортежи в дочернем отношении, 
    ссылающиеся на удаляемый кортеж, то значения их внешних ключей 
    станут некорректными. Удаление кортежей в родительском отношении 
    может привести к нарушению ссылочной целостности.}
\end{enumerate}

\textbf{Операции ведущие к нарущению ссылочной целостности при изменении
дочернего отношения:}

\begin{enumerate}
    \item {Вставка кортежа в дочернее отношение. Нельзя вставить 
    кортеж в дочернее отношение, если вставляемое значение внешнего 
    ключа некорректно. Вставка кортежа в дочернее отношение привести 
    к нарушению ссылочной целостности;}
    \item {Обновление кортежа в дочернем отношении. При обновлении 
    кортежа в дочернем отношении можно попытаться некорректно 
    изменить значение внешнего ключа. Обновление кортежа в дочернем 
    отношении может привести к нарушению ссылочной целостности;}
    \item {Удаление кортежа в дочернем отношении. При удалении 
    кортежа в дочернем отношении ссылочная целостность не 
    нарушается.}
\end{enumerate}

\textbf{Вывод:}

\begin{center}
    \includegraphics[width=170mm]{3_8.png}

    \includegraphics[width=170mm]{3_9.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{NULL"=значения}

\begin{center}
    \includegraphics[width=170mm]{3_1.png}
\end{center}

\textbf{Дополнительная информация:}
\begin{center}
    \includegraphics[width=170mm]{3_2.png}

    \includegraphics[width=170mm]{3_3.png}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Проектирование БД}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Функциональные зависимости}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Дополнительная информация}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Области БД}

\begin{center}
    \includegraphics[width=170mm]{11_1.PNG}

    \includegraphics[width=170mm]{11_2.PNG}

    \includegraphics[width=170mm]{11_3.PNG}

    \includegraphics[width=170mm]{11_4.PNG}

    \includegraphics[width=170mm]{11_5.PNG}
\end{center}

\end{document}